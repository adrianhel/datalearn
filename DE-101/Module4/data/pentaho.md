### 4.3.1 Начало работы с Pentaho DI

#### [Назад в Модуль 4 ⤶](/DE-101/Module4/readme.md)

В качестве ETL-инструмента будем использовать _open-source_ решение –
**[Pentaho Data Integration](https://community.pentaho.com/home)**. 

После скачивания и установки Pentaho, устанавливаем переменные среды (если есть необходимость) и можно приступать 
к работе.

В моем случае установлено было так:

<img src="/DE-101/Module4/img/environment.png" width="40%">

### 4.3.2 Основные элементы и типы проектов PDI
### Steps и Hops
В Pentaho Data Integration (PDI) ***Steps*** и ***Hops*** являются основными элементами, которые помогают в создании 
и выполнении ETL-процессов.

> ***Steps*** — это отдельные операции или трансформации, которые выполняются в процессе обработки данных.

Каждое действие, которое вы хотите выполнить с данными, представлено шагом.

> ***Hops*** — это соединения между шагами, которые определяют порядок выполнения. Они показывают, как данные 
> перемещаются от одного шага к другому.

Могут использоваться для передачи метаданных и других параметров между шагами.

### Jobs и Transformations
В PDI есть два типа проектов — ***Jobs*** и ***Transformations***.

> ***Transformations*** представляют собой набор шагов, которые обрабатывают данные.

Каждая трансформация отвечает за извлечение данных, их преобразование и загрузку в конечный источник.

> ***Jobs*** — это проекты, которые управляют выполнением одной или нескольких трансформаций и других задач. 

Они помогают организовать выполнение ETL-процессов, обеспечивая управление зависимостями и обработку ошибок.

### 4.3.3 План действий
Работать будем с исходными данными нашего «Superstore» из 
[Модуля 1](https://github.com/adrianhel/datalearn/blob/main/DE-101/Module1/readme.md).
1. Сделаем job, где скачаем файл **Superstore.xls** через _http_ протокол.
2. Объединим данные из разных листов Superstore.xls в одну таблицу **Sales**.
3. Подготовим исходные данные.
4. Сделаем общий job, который будет выполнять эти задачи по порядку.
5. Настроим выполнение job по расписанию через _Планировщик задач_.

### 4.3.4 Исполнение плана
1. [Job для скачивания исходного файла](/DE-101/Module4/data/pentaho/job_download_superstore.kjb)
2. [Transformation для создания Sales](/DE-101/Module4/data/pentaho/transformation_sales.ktr)